#  共识机制

常用的共识机制主要有PoW、PoS、DPoS、Paxos、PBFT等。另 外，基于区块链技术的不同应用场景，以及各种共识机制的特性，本白皮 书建议按照以下维度来评价各种共识机制的技术水平:
- 合规监管:是否支持超级权限节点对全网节点、数据进行监管。 
- 性能效率:交易达成共识被确认的效率。 
- 资源消耗:共识过程中耗费的CPU、网络输入输出、存储等计算机 资源。
- 容错性:防攻击、防欺诈的能力。


- PoW:依赖机器进行数学运算来获取记账权，资源消耗相比其他 共识机制高、可监管性弱，同时每次达成共识需要全网共同参与运算，性 能效率比较低，容错性方面允许全网50%节点出错。
- PoS:主要思想是节点记账权的获得难度与节点持有的权益成反 比，相对于PoW，一定程度减少了数学运算带来的资源消耗，性能也得到 了相应的提升，但依然是基于哈希运算竞争获取记账权的方式，可监管性 弱。该共识机制容错性和PoW相同。
- DPoS:与PoS的主要区别在于节点选举若干代理人，由代理人验 证和记账。其合规监管、性能、资源消耗和容错性与PoS相似。
- Paxos:是一种基于选举领导者的共识机制，领导者节点拥有绝 对权限，并允许强监管节点参与，性能高，资源消耗低。所有节点一般有 线下准入机制，但选举过程中不允许有作恶节点，不具备容错性。
- PBFT:与Paxos类似，也是一种采用许可投票、少数服从多数来 选举领导者进行记账的共识机制，但该共识机制允许拜占庭容错。该共识 机制允许强监管节点参与，具备权限分级能力，性能更高，耗能更低，该 算法每轮记账都会由全网节点共同选举领导者，允许33%的节点作恶，容 错性为33%。


# 智能合约
智能合约可视作一段部署在区块链上可自动运行的程序，其涵盖的范 围包括编程语言、编译器、虚拟机、事件、状态机、容错机制等。
虚拟机是区块链中智能合约的运行环境。虚拟机不仅被沙箱封装起来， 事实上它被完全隔离。也就是说运行在虚拟机内部的代码不能接触到网络、 文件系统或者其他进程。甚至智能合约之间也只能进行有限的调用。
智能合约本质上是一段程序，存在出错的可能性，甚至会引发严重问 题或连锁反应。需要做好充分的容错机制，通过系统化的手段，结合运行 环境隔离，确保合约在有限时间内按预期执行。





